# MiraiEx API client demo

This is a simple application which exercises most of the code 
in the the `miraiex` package.

## Example output

```
go run .\miraiex-dca\
2021/01/15 19:59:43 GET https://api.miraiex.com/time
2021/01/15 19:59:43 Response body: {"time":1610737184}

Current server time is  1610737184
2021/01/15 19:59:43 Response body:[{"currency":"BTC","balance":"0.00074521","hold":"0.00000000","available":"0.00074521"},{"currency":"DAI","balance":"0.00000000","hold":"0.00000000","available":"0.00000000"},{"currency":"ETH","balance":"0.00415867","hold":"0.00000000","available":"0.00415867"},{"currency":"LTC","balance":"0.00000000","hold":"0.00000000","available":"0.00000000"},{"currency":"NOK","balance":"797.58","hold":"0.00","available":"797.58"},{"currency":"XRP","balance":"0.00000000","hold":"0.00000000","available":"0.00000000"}]

Account balances:
        Name    Available       Balance           Hold
        BTC       0.0007          0.0007          0.0000
        DAI       0.0000          0.0000          0.0000
        ETH       0.0042          0.0042          0.0000
        LTC       0.0000          0.0000          0.0000
        NOK     797.5800        797.5800          0.0000
        XRP       0.0000          0.0000          0.0000
2021/01/15 19:59:43 GET https://api.miraiex.com/v2/markets
2021/01/15 19:59:43 Response body: [{"id":"BTCNOK","last":"302949.17","high":"344499.99","change":"-9.35","low":"293126.50","volume":"24.08"},{"id":"DAINOK","last":"8.66","high":"8.96","change":"-1.48","low":"8.22","volume":"7632.79"},{"id":"ETHNOK","last":"9691.51","high":"10998.99","change":"-11","low":"9373.28","volume":"155.16"},{"id":"LTCNOK","last":"1228.29","high":"1413.12","change":"-10.25","low":"1090.04","volume":"192.01"},{"id":"XRPNOK","last":"2.41","high":"2.64","change":"-5.49","low":"2.33","volume":"74457.19"}]

All tradable markets
        miraiex.MarketResponse{Id:"BTCNOK", Last:302949.17, High:344499.99, Change:-9.35, Low:293126.5, Volume:24.08}
        miraiex.MarketResponse{Id:"DAINOK", Last:8.66, High:8.96, Change:-1.48, Low:8.22, Volume:7632.79}
        miraiex.MarketResponse{Id:"ETHNOK", Last:9691.51, High:10998.99, Change:-11, Low:9373.28, Volume:155.16}
        miraiex.MarketResponse{Id:"LTCNOK", Last:1228.29, High:1413.12, Change:-10.25, Low:1090.04, Volume:192.01}
        miraiex.MarketResponse{Id:"XRPNOK", Last:2.41, High:2.64, Change:-5.49, Low:2.33, Volume:74457.19}
2021/01/15 19:59:43 GET https://api.miraiex.com/v2/markets/BTCNOK
2021/01/15 19:59:43 Response body: {"last":"302949.17","high":"344499.99","change":"-9.35","low":"293126.50","volume":"24.08"}

One specific market
        miraiex.MarketResponse{Id:"", Last:302949.17, High:344499.99, Change:-9.35, Low:293126.5, Volume:24.08}
2021/01/15 19:59:43 GET https://api.miraiex.com/v2/markets/BTCNOK/ticker
2021/01/15 19:59:43 Response body: {"bid":"302949.1700000000000000","ask":"308989.0400000000000000","spread":"6039.8700000000000000"}

Current BTC price
        Bid: 302949.17,  Ask: 308989.04,  Spread: 6039.87
2021/01/15 19:59:43 GET https://api.miraiex.com/v2/markets/BTCNOK/history?count=5
2021/01/15 19:59:43 Response body: [{"type":"ask","amount":"0.00072315","price":"302949.17","created_at":"2021-01-15T18:59:01.302Z","total":"219.07"},{"type":"ask","amount":"0.00279157","price":"302949.17","created_at":"2021-01-15T18:58:38.225Z","total":"845.70"},{"type":"bid","amount":"0.00009709","price":"307450.08","created_at":"2021-01-15T18:56:08.369Z","total":"29.85"},{"type":"ask","amount":"0.00031331","price":"300718.35","created_at":"2021-01-15T18:55:49.187Z","total":"94.21"},{"type":"ask","amount":"0.15722680","price":"299887.82","created_at":"2021-01-15T18:55:04.834Z","total":"47150.40"}]
        miraiex.MarketTrade{Type:"ask", Amount:0.00072315, Price:302949.17, CreatedAt:time.Time{wall:0x12002780, ext:63746333941, loc:(*time.Location)(nil)}, Total:219.07}     2021-01-15T18:59:01.302Z
        miraiex.MarketTrade{Type:"ask", Amount:0.00279157, Price:302949.17, CreatedAt:time.Time{wall:0xd693a40, ext:63746333918, loc:(*time.Location)(nil)}, Total:845.7}       2021-01-15T18:58:38.225Z
        miraiex.MarketTrade{Type:"bid", Amount:9.709e-05, Price:307450.08, CreatedAt:time.Time{wall:0x15fe7e40, ext:63746333768, loc:(*time.Location)(nil)}, Total:29.85}       2021-01-15T18:56:08.369Z
        miraiex.MarketTrade{Type:"ask", Amount:0.00031331, Price:300718.35, CreatedAt:time.Time{wall:0xb2564c0, ext:63746333749, loc:(*time.Location)(nil)}, Total:94.21}       2021-01-15T18:55:49.187Z
        miraiex.MarketTrade{Type:"ask", Amount:0.1572268, Price:299887.82, CreatedAt:time.Time{wall:0x31b5d480, ext:63746333704, loc:(*time.Location)(nil)}, Total:47150.4}     2021-01-15T18:55:04.834Z
2021/01/15 19:59:43 GET https://api.miraiex.com/v2/markets/BTCNOK/depth
2021/01/15 19:59:43 Response body: {"bids":[["302949.17","0.72283034"],["301835.91","0.04134596"],["301835.90","1.00000000"],["300718.35","0.99968669"],["299887.82","0.84277320"],["299000.01","0.66889632"],["299000.00","0.00060000"],["298971.22","1.00000000"],["297849.57","0.61207730"],["297255.05","1.00000000"],["296661.72","1.00943439"],["295000.00","0.01152581"],["294300.20","1.00000000"],["293126.50","0.84234709"],["290728.55","0.00894537"],["290103.00","0.00362611"],["290000.00","0.06229570"],["289000.00","0.00400000"],["285795.00","0.00979201"],["285631.00","0.01053000"],["284000.00","0.00400000"],["280500.00","0.00400000"],["280000.00","0.08580000"],["275500.00","0.03816518"],["275162.00","0.10000000"],["275138.00","0.00452057"],["275000.00","0.02100000"],["273632.57","0.05454531"],["272447.00","0.00110000"],["272000.00","0.00400000"],["271316.24","0.02530681"],["271000.00","0.07300000"],["270000.00","0.11684336"],["268450.00","0.12972944"],["268190.00","0.07500000"],["267481.00","0.01826487"],["267000.00","0.00400000"],["266510.00","0.01000000"],["263500.00","0.00400000"],["261000.00","0.09100000"],["260000.00","0.06913509"],["259463.57","0.01276246"],["258954.13","0.00390000"],["258082.00","0.10000000"],["256000.00","0.00388681"],["255000.00","0.01370153"],["251900.00","0.02456874"],["251000.00","0.07900000"],["250334.49","0.02376001"],["250001.00","0.00500000"],["250000.00","0.49407561"],["247123.52","0.02000000"],["245000.00","0.01035000"],["242242.00","0.06000000"],["241000.00","0.20133606"],["240000.00","0.03300000"],["239000.00","0.08326568"],["238529.00","0.00220000"],["235010.00","0.06000000"],["235000.00","0.00840000"],["230500.00","0.01971526"],["230000.00","0.03900000"],["226000.00","0.03520000"],["225000.00","0.00880000"],["220000.00","0.02500000"],["215000.00","0.00920000"],["212500.00","0.04692200"],["211989.34","0.00042638"],["210161.00","0.14940026"],["210000.00","0.02400000"],["208504.00","0.12000000"],["205000.00","0.00970000"],["203059.00","0.38474174"],["200135.00","0.12497688"],["200133.60","0.07079635"],["200000.00","0.85000000"],["197056.00","0.00296473"],["196269.05","0.00016456"],["196000.00","0.10000000"],["195000.00","0.01019000"],["194545.82","0.02000000"],["190000.00","0.05000000"],["186432.00","0.00300000"],["185900.00","0.03000000"],["185000.00","0.51070000"],["180000.01","0.02763958"],["180000.00","0.05000000"],["175000.00","0.22648810"],["172614.00","0.12300000"],["171000.00","0.05455180"],["170000.00","0.06700000"],["168000.00","0.00500000"],["165000.00","0.02380000"],["160000.00","0.05631013"],["150000.00","0.12011915"],["140001.00","0.01000000"],["140000.00","0.06232444"],["130000.00","0.05000000"],["129000.01","0.00077519"],["123501.00","0.00558216"],["120000.00","0.10000000"],["116001.00","0.01029190"],["105000.00","0.01225000"],["104146.99","0.00096018"],["104110.56","0.00096051"],["100000.00","0.11062189"],["96000.00","0.00661650"],["94000.00","0.01058537"],["60000.00","0.03250000"],["49000.00","0.00197400"],["29000.28","2.00000000"],["12000.00","0.99502487"],["2000.00","0.99502487"],["1000.00","0.99502487"],["550.00","1.85508819"],["500.00","1.18746635"],["300.00","1.00000000"],["225.00","1.00000000"],["150.00","0.99502487"],["147.00","5.77304560"],["124.11","0.99502487"],["70.00","1.00000000"],["50.00","29.50000000"],["5.00","2.00000000"],["1.00","188.62686566"]],"asks":[["308989.04","0.00889669"],["308989.08","0.08289717"],["309747.99","2.65270951"],["312096.77","0.50937360"],["312096.78","0.27363745"],["313252.34","1.01874720"],["313252.35","0.14480154"],["314481.25","0.18100193"],["315856.55","0.22625241"],["316672.92","0.24229658"],["317752.77","0.30287073"],["318624.45","0.37858841"],["319453.61","0.45999981"],["320475.65","0.58437726"],["322518.89","0.49399543"],["330000.00","0.08539285"],["330967.57","0.05433885"],["333810.37","0.06805575"],["336112.57","0.13292138"],["336926.64","0.16615173"],["340329.68","0.00306397"],["342082.12","0.06457812"],["342975.50","0.20658838"],["345000.00","0.03175018"],["345663.32","0.36570582"],["348000.00","0.00693343"],["349500.00","0.08500000"],["350000.00","0.64915223"],["352000.00","0.03000000"],["358699.95","0.00557762"],["359999.00","0.00298508"],["359999.99","0.00500000"],["360000.00","0.02040333"],["363000.00","0.03043435"],["365000.00","0.02265280"],["366705.14","0.00020951"],["369900.00","0.10000000"],["369999.00","0.09950248"],["370000.00","0.31143837"],["371022.92","0.02944155"],["374000.00","0.02300000"],["375000.00","0.01450000"],["375100.87","0.00250000"],["380000.00","0.12555904"],["399000.00","0.06864188"],["399108.00","0.00250000"],["400000.00","0.08630214"],["402785.86","0.99502487"],["420000.00","0.06864188"],["421999.00","0.03787275"],["440000.00","0.20000000"],["463999.00","0.03787274"],["500000.00","0.00119332"],["900000.00","0.00160096"],["1000000.00","0.03644936"],["3200000.00","0.00650202"],["5000000.00","0.00023527"]]}
Asks:
 [[308989.04 0.00889669] [308989.08 0.08289717] [309747.99 2.65270951] [312096.77 0.5093736] [312096.78 0.27363745] [313252.34 1.0187472] [313252.35 0.14480154] [314481.25 0.18100193] [315856.55 0.22625241] [316672.92 0.24229658] [317752.77 0.30287073] [318624.45 0.37858841] [319453.61 0.45999981] [320475.65 0.58437726] [322518.89 0.49399543] [330000 0.08539285] [330967.57 0.05433885] [333810.37 0.06805575] [336112.57 0.13292138] [336926.64 0.16615173] [340329.68 0.00306397] [342082.12 0.06457812] [342975.5 0.20658838] [345000 0.03175018] [345663.32 0.36570582] [348000 0.00693343] [349500 0.085] [350000 0.64915223] [352000 0.03] [358699.95 0.00557762] [359999 0.00298508] [359999.99 0.005] [360000 0.02040333] [363000 0.03043435] [365000 0.0226528] [366705.14 0.00020951] [369900 0.1] [369999 0.09950248] [370000 0.31143837] [371022.92 0.02944155] [374000 0.023] [375000 0.0145] [375100.87 0.0025] [380000 0.12555904] [399000 0.06864188] [399108 0.0025] [400000 0.08630214] [402785.86 0.99502487] [420000 0.06864188] [421999 0.03787275] [440000 0.2] [463999 0.03787274] [500000 0.00119332] [900000 0.00160096] [1e+06 0.03644936] [3.2e+06 0.00650202] [5e+06 0.00023527]]
Bids:
 [[302949.17 0.72283034] [301835.91 0.04134596] [301835.9 1] [300718.35 0.99968669] [299887.82 0.8427732] [299000.01 0.66889632] [299000 0.0006] [298971.22 1] [297849.57 0.6120773] [297255.05 1] [296661.72 1.00943439] [295000 0.01152581] [294300.2 1] [293126.5 0.84234709] [290728.55 0.00894537] [290103 0.00362611] [290000 0.0622957] [289000 0.004] [285795 0.00979201] [285631 0.01053] [284000 0.004] [280500 0.004] [280000 0.0858] [275500 0.03816518] [275162 0.1] [275138 0.00452057] [275000 0.021] [273632.57 0.05454531] [272447 0.0011] [272000 0.004] [271316.24 0.02530681] [271000 0.073] [270000 0.11684336] [268450 0.12972944] [268190 0.075] [267481 0.01826487] [267000 0.004] [266510 0.01] [263500 0.004] [261000 0.091] [260000 0.06913509] [259463.57 0.01276246] [258954.13 0.0039] [258082 0.1] [256000 0.00388681] [255000 0.01370153] [251900 0.02456874] [251000 0.079] [250334.49 0.02376001] [250001 0.005] [250000 0.49407561] [247123.52 0.02] [245000 0.01035] [242242 0.06] [241000 0.20133606] [240000 0.033] [239000 0.08326568] [238529 0.0022] [235010 0.06] [235000 0.0084] [230500 0.01971526] [230000 0.039] [226000 0.0352] [225000 0.0088] [220000 0.025] [215000 0.0092] [212500 0.046922] [211989.34 0.00042638] [210161 0.14940026] [210000 0.024] [208504 0.12] [205000 0.0097] [203059 0.38474174] [200135 0.12497688] [200133.6 0.07079635] [200000 0.85] [197056 0.00296473] [196269.05 0.00016456] [196000 0.1] [195000 0.01019] [194545.82 0.02] [190000 0.05] [186432 0.003] [185900 0.03] [185000 0.5107] [180000.01 0.02763958] [180000 0.05] [175000 0.2264881] [172614 0.123] [171000 0.0545518] [170000 0.067] [168000 0.005] [165000 0.0238] [160000 0.05631013] [150000 0.12011915] [140001 0.01] [140000 0.06232444] [130000 0.05] [129000.01 0.00077519] [123501 0.00558216] [120000 0.1] [116001 0.0102919] [105000 0.01225] [104146.99 0.00096018] [104110.56 0.00096051] [100000 0.11062189] [96000 0.0066165] [94000 0.01058537] [60000 0.0325] [49000 0.001974] [29000.28 2] [12000 0.99502487] [2000 0.99502487] [1000 0.99502487] [550 1.85508819] [500 1.18746635] [300 1] [225 1] [150 0.99502487] [147 5.7730456] [124.11 0.99502487] [70 1] [50 29.5] [5 2] [1 188.62686566]]
```